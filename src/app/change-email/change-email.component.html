<div class="container pt-5 mt-5">
  <div class="row">
    <div class="col-md-6 offset-md-3 h3">Change Email</div>
    <div class="col-md-6 offset-md-3 card" [ngSwitch]="step">
      <form (ngSubmit)="sendEmail()" [formGroup]="email_form" *ngSwitchCase="0">
            <div class="form-group">
              <label for="email"><h5 class="mt-3">Enter A new Email  You Will Recieve A mail</h5></label>
              <input type="email" id="email" class="form-control" placeholder="a@b.com" formControlName="email">
              <div *ngIf="email_form.get('email').errors">Enter Proper Email</div>
            </div>
            <button type="submit" [disabled]="!email_form.valid" class="btn btn-primary">Next
                <div class="spinner-border spinner-border-sm"*ngIf="loading_email_response" role="status">
                    <span class="sr-only">Sending Email</span>
                  </div>
            </button>
            <span class="alert alert-danger" *ngIf="loading_email_error">{{loading_email_error}}</span>
          </form>

          <form *ngSwitchCase="1" [formGroup]="otp_form" (ngSubmit)="verifyOtp()">
            <div class="form-group">
              <label for="otp">Enter The Otp Recieved in Email</label>
              <input type="number"  id="otp" formControlName="otp" class="form-control">
            </div>
            <button type="submit" class="btn">NEXT
                    <div class="spinner-border spinner-border-sm" *ngIf="loading_otp_response" role="status">
                      <span class="sr-only">Verifying OTP</span>
                    </div>
            </button>
            <span class="alert alert-danger" *ngIf="loading_otp_error">{{loading_otp_error}}</span>
          </form>
    </div>
  </div>
</div>
